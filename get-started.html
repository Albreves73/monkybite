<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sign Up — MonkyBite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header>
    <a href="index.html" class="logo">
      <img src="logo.png" alt="MonkyBite Logo" />
      <span class="brand-name">MonkyBite</span>
    </a>
    <nav>
      <a href="index.html">HOME</a>
      <a href="login.html">LOGIN</a>
      <a href="plans.html">PLANS</a>
      <a href="contact.html">CONTACT</a>
    </nav>
  </header>

  <main class="get-started-box">
    <h1>Create Your MonkyBite Account</h1>
    <p>Let’s get you started with your chosen plan</p>

    <p id="plan-display" class="welcome-banner"></p>

    <form id="signup-form" onsubmit="handleSignup(event)">
      <input type="text" id="name" placeholder="Full name" required />
      <input type="email" id="email" placeholder="Email address" required />
      <input type="password" id="password" placeholder="Create a password" required />
      <input type="text" id="country" placeholder="Country (optional)" />
      <input type="hidden" id="plan" name="plan" />

      <button type="submit" class="button primary">Create Account</button>
      <p id="signup-feedback" class="contact-feedback"></p>
    </form>
  </main>

  <footer>
    <p>© 2025 MonkyBite</p>
  </footer>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const selectedPlan = urlParams.get("plan");
    const planDisplay = document.getElementById("plan-display");
    const hiddenPlan = document.getElementById("plan");

    if (selectedPlan) {
      planDisplay.textContent = `You're signing up for the ${selectedPlan} plan — great choice!`;
      hiddenPlan.value = selectedPlan;
    } else {
      planDisplay.textContent = "No plan selected. Please go back and choose one.";
    }

    function handleSignup(event) {
      event.preventDefault();

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value;
      const country = document.getElementById("country").value.trim();
      const plan = document.getElementById("plan").value;
      const feedback = document.getElementById("signup-feedback");

      if (!name || !email || !password || !plan) {
        feedback.textContent = "Please fill in all required fields.";
        feedback.style.color = "#d93025";
        return;
      }

      feedback.textContent = `Welcome, ${name}! We're setting up your MonkyBite space...`;
      feedback.style.color = "#1a73e8";

      // Etapa 2: aqui vamos chamar a API do Nextcloud
      // Por enquanto, simulação:
      console.log({ name, email, password, country, plan });

      // Redirecionamento fictício
      setTimeout(() => {
        window.location.href = "dashboard.html";
      }, 2000);
    }
  </script>

</body>
</html>

